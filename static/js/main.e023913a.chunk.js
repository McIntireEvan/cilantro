(this.webpackJsonpcilantro=this.webpackJsonpcilantro||[]).push([[0],{22:function(e,t,c){},55:function(e,t){},92:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(1),r=c.n(a),i=c(31),n=(c(22),c(4)),j=c(21),o=c.n(j),l=c(32),d=c(11),b=c(33),p=c(34),h=c.n(p),u=c(7),m=c(3),O=c(44);function x(e){var t="/tags/"+e.text;return Object(s.jsx)(u.b,{to:t,children:e.text})}function g(e){var t=Object(m.f)().id,c=Number(t);return Object(s.jsx)(f,Object(n.a)({},e.recipes[c]))}function f(e){var t=e.tags.map((function(t,c){return Object(s.jsxs)("span",{className:"recipe-tag",children:[Object(s.jsx)(x,{text:t}),c+1!==e.tags.length?",":""," "]},c)})),c=e.ingredients.map((function(e){return Object(s.jsxs)("li",{className:"ingredient p-ingredient",children:[""!==e.amount&&Object(s.jsx)("span",{className:"ingredient-amount",children:e.amount}),Object(s.jsx)("span",{className:"ingredient-item",children:e.item})]})})),a=e.steps.map((function(e){return Object(s.jsx)("li",{className:"prep-step",children:Object(s.jsx)("p",{className:"prep-step-text",children:e})})})),r="/cilantro/recipes/images/"+e.imgUrl;return Object(s.jsxs)("article",{className:"recipe hRecipe h-recipe",children:[Object(s.jsx)(N,Object(n.a)({},e)),Object(s.jsx)("h1",{className:"recipe-title fn p-name",children:e.title}),Object(s.jsxs)("header",{className:"recipe-meta",children:[e.serves&&Object(s.jsxs)("span",{className:"recipe-serves yield",children:[Object(s.jsx)("b",{children:"Yield"})," ",e.serves]}),e.time&&Object(s.jsxs)("span",{className:"recipe-time",children:[Object(s.jsx)("b",{children:"Time"})," ",e.time]}),e.sourceURL&&Object(s.jsxs)("span",{children:[Object(s.jsx)("b",{children:"Source"})," ",Object(s.jsx)("a",{href:e.sourceURL,className:"recipe-source",children:"Link"})]}),e.sourceAuthor&&Object(s.jsxs)("span",{className:"recipe-author",children:[Object(s.jsx)("b",{children:"By"})," ",e.sourceAuthor," "]})]}),Object(s.jsxs)("div",{className:"recipe-info",children:[Object(s.jsx)("p",{className:"recipe-description p-summary summary",children:e.bodyText}),Object(s.jsx)("img",{className:"recipe-picture u-photo photo",src:r,alt:e.title})]}),Object(s.jsx)("div",{className:"recipe-tags",children:t}),Object(s.jsxs)("div",{className:"recipe-body",children:[Object(s.jsxs)("div",{className:"recipe-ingredients",children:[Object(s.jsx)("h2",{children:"Ingredients"}),Object(s.jsx)("ul",{className:"ingredients-list",children:c})]}),Object(s.jsxs)("div",{className:"recipe-steps",children:[Object(s.jsx)("h2",{children:"Preparation"}),Object(s.jsx)("ol",{className:"prep-steps instructions e-instructions",children:a})]})]}),Object(s.jsx)(v,{recipe:e})]})}function v(e){var t={"@context":"https://schema.org","@type":"Recipe",cookTime:e.recipe.time,description:e.recipe.bodyText,image:e.recipe.imgUrl,recipeIngredient:e.recipe.ingredients,name:e.recipe.title,recipeInstructions:e.recipe.steps.join(". "),recipeYield:e.recipe.serves};return Object(s.jsx)("script",{type:"application/ld+json",children:JSON.stringify(t)})}function N(e){var t="/cilantro/recipes/images/"+e.imgUrl;return Object(s.jsxs)(O.a,{children:[Object(s.jsxs)("title",{children:[e.title," - Cilantro"]}),Object(s.jsx)("meta",{content:"article",property:"og:type"}),Object(s.jsx)("meta",{content:e.title,property:"og:title"}),Object(s.jsx)("meta",{content:e.bodyText,property:"og:description"}),Object(s.jsx)("meta",{content:t,property:"og:image"}),Object(s.jsx)("meta",{property:"og:site_name",content:"Cilantro Recipes"}),e.sourceAuthor&&Object(s.jsx)("meta",{property:"og:author",content:e.sourceAuthor}),e.sourceURL&&Object(s.jsx)("meta",{property:"og:url",content:e.sourceURL}),Object(s.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]})}function k(e){var t=(e.recipes||[]).map((function(e){return function(e){var t="/r/"+e.id,c="/cilantro/recipes/images/"+e.imgUrl,a=e.bodyText&&e.bodyText.substring(0,100)+"...";return Object(s.jsxs)("div",{className:"cookbook-tile",children:[Object(s.jsx)("div",{className:"cookbook-tile-image",style:{backgroundImage:"url(".concat(c,")")},children:Object(s.jsx)(u.b,{className:"cookbook-tile-title",to:t,children:e.title})}),Object(s.jsx)("div",{className:"cookbook-tile-text",children:a})]})}(e)}));return Object(s.jsxs)("div",{className:"cookbook-holder",children:[Object(s.jsx)("h1",{className:"cookbook-title",children:e.title}),Object(s.jsx)("pre",{className:"cookbook-description",children:e.description}),Object(s.jsx)("div",{className:"cookbook",children:t})]})}var y=r.a.createContext({dataRootURL:"http://localhost:3000/recipes/",indexFile:"README.md",theme:"light",sidebarCompact:!1});function C(e){var t=Object(a.useContext)(y),c=Object(a.useState)(t.theme),r=Object(d.a)(c,2),i=r[0],n=r[1],j=Object(a.useState)(t.sidebarCompact),o=Object(d.a)(j,2),l=o[0],b=o[1];return Object(a.useEffect)((function(){t.theme!==i&&e.onUpdate(i)}),[i,e,t]),Object(a.useEffect)((function(){t.sidebarCompact!==l&&e.updateCompact(l)}),[l,e,t]),Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Settings"}),Object(s.jsx)("h2",{children:"Theme"}),Object(s.jsxs)("form",{children:[Object(s.jsx)("div",{className:"theme-radio",children:Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"radio",name:"theme",value:"light",checked:"light"===i,onChange:function(){return n("light")},className:"theme-radio-input"}),"Light"]})}),Object(s.jsx)("div",{className:"theme-radio",children:Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"radio",name:"theme",value:"blue",checked:"blue"===i,onChange:function(){return n("blue")},className:"theme-radio-input"}),"Blue"]})}),Object(s.jsx)("div",{className:"theme-radio",children:Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"radio",name:"theme",value:"green",checked:"green"===i,onChange:function(){return n("green")},className:"theme-radio-input"}),"Green"]})}),Object(s.jsx)("div",{className:"theme-radio",children:Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"radio",name:"theme",value:"red",checked:"red"===i,onChange:function(){return n("red")},className:"theme-radio-input"}),"Red"]})}),Object(s.jsx)("div",{className:"theme-radio",children:Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"radio",name:"theme",value:"dark",checked:"dark"===i,onChange:function(){return n("dark")},className:"theme-radio-input"}),"Dark"]})})]}),Object(s.jsx)("h2",{children:"Compact Sidebar"}),Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"checkbox",checked:l,onChange:function(){return b(!l)}})," ","Compact sidebar"]})]})}var R=c(48),U={includeScore:!0,keys:[{name:"title",weight:.25},{name:"tags",weight:.35},{name:"ingredients",weight:.35},{name:"steps",weight:.05}]};function w(e){var t=Object(a.useState)(""),c=Object(d.a)(t,2),r=c[0],i=c[1],j=Object(a.useState)(e.recipes),o=Object(d.a)(j,2),l=o[0],b=o[1];Object(a.useEffect)((function(){var t=new R.a(e.recipes,U).search(r).map((function(e){return e.item}));b(t)}),[e,r]);var p={title:"Results",description:"",recipes:l};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Search"}),Object(s.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)}}),Object(s.jsx)(k,Object(n.a)({},p))]})}var S=c(94),L=c(95),T=c(96),E=c(97),A=c(26),I=c.n(A);function F(){var e=Object(a.useContext)(y),t=function(e){var t;switch(e.theme){case"red":t="\ud83c\udf4e";break;case"blue":t="\ud83e\uded0";break;case"green":t="\ud83c\udf48";break;case"dark":t="\ud83c\udf47";break;default:t="\ud83c\udf3f"}return t}(e),c=I()({"app-sidebar":!e.sidebarCompact,"app-sidebar-c":e.sidebarCompact}),r=I()({hidden:e.sidebarCompact});return Object(s.jsxs)("nav",{className:c,children:[Object(s.jsxs)("section",{className:"app-sidebar-body",children:[Object(s.jsxs)(u.b,{className:"app-sidebar-link",to:"/",children:[Object(s.jsx)(S.a,{})," ",Object(s.jsx)("span",{className:r,children:"Home"})]}),Object(s.jsxs)(u.b,{className:"app-sidebar-link",to:"/tags",children:[Object(s.jsx)(L.a,{})," ",Object(s.jsx)("span",{className:r,children:"Tags"})]}),Object(s.jsxs)(u.b,{className:"app-sidebar-link",to:"/search",children:[Object(s.jsx)(T.a,{})," ",Object(s.jsx)("span",{className:r,children:"Search"})]}),Object(s.jsxs)(u.b,{className:"app-sidebar-link",to:"/settings/",children:[Object(s.jsx)(E.a,{})," ",Object(s.jsx)("span",{className:r,children:"Settings"})]})]}),Object(s.jsxs)("footer",{className:I()("app-sidebar-footer",{hidden:e.sidebarCompact}),children:[Object(s.jsx)("i",{children:"Cilantro v0"})," ",Object(s.jsx)("br",{})," Made with ",t]})]})}function B(e){var t=[];for(var c in e.index)t.push(c);var a=t.map((function(e,c){var a="/tags/"+e;return Object(s.jsxs)("span",{className:"recipe-tags",children:[Object(s.jsx)(u.b,{to:a,children:e}),c+1!==t.length?",":""]},c)}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Tags"}),a]})}function D(e){var t=Object(m.f)().tag,c={title:"Tag: "+t,description:"",recipes:e.index[t]};return Object(s.jsx)(k,Object(n.a)({},c))}function J(e,t){var c=h()(t);console.log(c);var s=c.data.title,a=c.data.tags.split(",").map((function(e){return e.trim()})),r=c.data.image,i=c.data.directions,n=c.data.ingredients.map((function(e){return{amount:"",item:e}})),j=c.data.yield,o=c.data.time;return{id:e,title:s,tags:a,imgUrl:r,steps:i,serves:j,sourceURL:c.data.sourceURL,sourceAuthor:c.data.sourceAuthor,time:o,ingredients:n,bodyText:c.content}}function M(){var e=Object(a.useState)(),t=Object(d.a)(e,2),c=t[0],r=t[1],i=Object(a.useState)({}),j=Object(d.a)(i,2),p=j[0],O=j[1],x=Object(a.useState)({dataRootURL:"/cilantro/recipes/",indexFile:"README.md?raw=true",theme:"light",sidebarCompact:!0}),f=Object(d.a)(x,2),v=f[0],N=f[1];if(Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,c,s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v.dataRootURL+v.indexFile);case 2:return t=e.sent,e.next=5,t.text();case 5:c=e.sent,s=h()(c),a=s.data.recipes.map(function(){var e=Object(l.a)(o.a.mark((function e(t,c){var s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v.dataRootURL+"recipes/"+t+".md?raw=true");case 2:return s=e.sent,e.next=5,s.text();case 5:return a=e.sent,e.abrupt("return",J(c,a));case 7:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),Promise.all(a).then((function(e){var t={title:s.data.title,description:s.content,recipes:e};r(t)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v]),Object(a.useEffect)((function(){if(c){var e=function(e){var t,c={},s=Object(b.a)(e);try{for(s.s();!(t=s.n()).done;){var a,r=t.value,i=Object(b.a)(r.tags);try{for(i.s();!(a=i.n()).done;){var n=a.value;n in c||(c[n]=[]),c[n].push(r)}}catch(j){i.e(j)}finally{i.f()}}}catch(j){s.e(j)}finally{s.f()}return c}(c.recipes);O(e)}}),[c]),""===v.dataRootURL)return Object(s.jsx)("div",{});if(""===v.indexFile)return Object(s.jsx)("div",{});if(void 0===c)return Object(s.jsx)("div",{children:"Loading..."});return Object(s.jsx)(y.Provider,{value:v,children:Object(s.jsx)(u.a,{basename:"cilantro",children:Object(s.jsxs)("div",{className:"app app-theme-"+v.theme,children:[Object(s.jsx)(F,{}),Object(s.jsx)("main",{className:"app-content",children:Object(s.jsxs)(m.c,{children:[Object(s.jsx)(m.a,{path:"/r/:id",children:Object(s.jsx)(g,{recipes:c.recipes})}),Object(s.jsx)(m.a,{path:"/tags/:tag",children:Object(s.jsx)(D,{index:p})}),Object(s.jsx)(m.a,{path:"/tags/",children:Object(s.jsx)(B,{index:p})}),Object(s.jsx)(m.a,{path:"/search/",children:Object(s.jsx)(w,{recipes:c.recipes})}),Object(s.jsx)(m.a,{path:"/settings/",children:Object(s.jsx)(C,{onUpdate:function(e){console.log(e),N(Object(n.a)(Object(n.a)({},v),{},{theme:e}))},updateCompact:function(e){N(Object(n.a)(Object(n.a)({},v),{},{sidebarCompact:e}))}})}),Object(s.jsx)(m.a,{path:"/",children:Object(s.jsx)(k,Object(n.a)({},c))})]})})]})})})}var P=document.getElementById("root");P&&P.hasChildNodes()?Object(i.hydrate)(Object(s.jsx)(M,{}),P):Object(i.render)(Object(s.jsx)(M,{}),P)}},[[92,1,2]]]);
//# sourceMappingURL=main.e023913a.chunk.js.map